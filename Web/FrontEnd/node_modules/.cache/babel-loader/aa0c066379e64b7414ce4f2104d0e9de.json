{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\graduation\\\\Web\\\\FrontEnd\\\\src\\\\view\\\\Main.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport { AppBar, ListItemButton } from \"@mui/material\";\nimport { Toolbar } from \"@mui/material\";\nimport { IconButton } from \"@mui/material\";\nimport { Typography } from \"@mui/material\";\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport { Button } from \"@mui/material\";\nimport { Fade } from \"@mui/material\";\nimport example from '../example.json';\nimport './Main.css';\nimport API from \"../API\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Item = styled(Paper)(({\n  theme\n}) => ({ ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: 'center',\n  color: theme.palette.text.secondary\n}));\n\nfunction NavBar(props) {\n  const {\n    times\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"large\",\n          edge: \"start\",\n          color: \"inherit\",\n          \"aria-label\": \"menu\",\n          sx: {\n            mr: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"News Keywords\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FadeMenu, {\n          times: times\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n\n_c = NavBar;\n\nfunction FadeMenu(props) {\n  _s();\n\n  function timeFormat(timestring) {\n    if (timestring === undefined) {\n      return '';\n    } else {\n      return timestring.slice(0, 4) + '-' + timestring.slice(4, 6) + '-' + timestring.slice(6, 8) + ' ' + timestring.slice(8, 10) + ':' + timestring.slice(10, 12) + ':' + timestring.slice(12, 14);\n    }\n  }\n\n  const {\n    times\n  } = props;\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  let time = '';\n  const urlParams = new URLSearchParams(window.location.search);\n\n  if (!urlParams.has('t')) {\n    time = times[times.length - 1];\n  } else {\n    time = urlParams.get('t');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      id: \"fade-button\",\n      \"aria-controls\": \"fade-menu\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": open ? 'true' : undefined,\n      onClick: handleClick,\n      color: \"inherit\",\n      children: timeFormat(time)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      id: \"fade-menu\",\n      MenuListProps: {\n        'aria-labelledby': 'fade-button'\n      },\n      anchorEl: anchorEl,\n      open: open,\n      onClose: handleClose,\n      TransitionComponent: Fade,\n      children: times.map(time => /*#__PURE__*/_jsxDEV(Link, {\n        to: `?t=${time}`,\n        children: /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClose,\n          children: timeFormat(time)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 60\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 36\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FadeMenu, \"+aMDa7FPcESUyQDF1vq0RSMn4/k=\");\n\n_c2 = FadeMenu;\n\nfunction GridComponent(props) {\n  const {\n    keywords\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 4,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      children: /*#__PURE__*/_jsxDEV(ListItemButton, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            minHeight: '150px',\n            padding: '20px',\n            textAlign: 'center'\n          },\n          children: keywords.map(keyword => /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '30px',\n              display: 'inline',\n              margin: '5px'\n            },\n            children: [\"#\", keyword, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 50\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 9\n  }, this);\n}\n\n_c3 = GridComponent;\n\nfunction getStaticProps() {\n  const data = JSON.parse(JSON.stringify(example));\n  return data;\n}\n\nexport default function Main() {\n  _s2();\n\n  const [time, setTime] = useState('');\n  const [times, setTimes] = useState({});\n  const [keywords, setKeywords] = useState([]);\n\n  async function fetchTimes() {\n    const d = await API.getTimes();\n    setTimes(d);\n  }\n\n  async function fetchKeywords(time) {\n    const d = await API.getKeywords(time);\n    setKeywords(d);\n  }\n\n  function setDefaultTime() {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    if (!urlParams.has('t')) {\n      setTime(times_arr[times_arr.length - 1]);\n    } else {\n      setTime(urlParams.get('t'));\n    }\n  }\n\n  useEffect(() => {\n    fetchTimes();\n    setDefaultTime();\n    fetchKeywords(time);\n  }, []);\n  let times_arr = [];\n\n  for (let i = 0; i < times.length; i++) {\n    times_arr.push(times[i]['time']);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      times: times_arr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        padding: '30px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        rowSpacing: 3,\n        columnSpacing: {\n          xs: 1,\n          sm: 2,\n          md: 3\n        },\n        children: keywords.map((news, idx) => /*#__PURE__*/_jsxDEV(GridComponent, {\n          keywords: news\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(Main, \"kkMbiDhzqP42dOnYde9l9sdMZkc=\");\n\n_c4 = Main;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"NavBar\");\n$RefreshReg$(_c2, \"FadeMenu\");\n$RefreshReg$(_c3, \"GridComponent\");\n$RefreshReg$(_c4, \"Main\");","map":{"version":3,"sources":["C:/Users/User/Documents/GitHub/graduation/Web/FrontEnd/src/view/Main.js"],"names":["React","styled","Grid","Paper","Box","AppBar","ListItemButton","Toolbar","IconButton","Typography","Menu","MenuItem","Button","Fade","example","API","useEffect","useState","Link","Item","theme","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","NavBar","props","times","flexGrow","mr","FadeMenu","timeFormat","timestring","undefined","slice","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","time","urlParams","URLSearchParams","window","location","search","has","length","get","map","GridComponent","keywords","minHeight","keyword","fontSize","display","margin","getStaticProps","data","JSON","parse","stringify","Main","setTime","setTimes","setKeywords","fetchTimes","d","getTimes","fetchKeywords","getKeywords","setDefaultTime","times_arr","i","push","xs","sm","md","news","idx"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\nimport Box from '@mui/material/Box';\r\nimport {AppBar, ListItemButton} from \"@mui/material\";\r\nimport {Toolbar} from \"@mui/material\";\r\nimport {IconButton} from \"@mui/material\";\r\nimport {Typography} from \"@mui/material\";\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport {Button} from \"@mui/material\";\r\nimport {Fade} from \"@mui/material\";\r\n\r\n\r\nimport example from '../example.json'\r\n\r\nimport './Main.css';\r\nimport API from \"../API\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Item = styled(Paper)(({ theme }) => ({\r\n    ...theme.typography.body2,\r\n    padding: theme.spacing(1),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n}));\r\n\r\nfunction NavBar(props){\r\n    const {times} = props\r\n    return(\r\n        <Box sx={{ flexGrow: 1 }}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <IconButton\r\n                        size=\"large\"\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        sx={{ mr: 2 }}\r\n                    >\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                        News Keywords\r\n                    </Typography>\r\n                    <FadeMenu times={times}/>\r\n                </Toolbar>\r\n            </AppBar>\r\n\r\n        </Box>\r\n    );\r\n}\r\n\r\nfunction FadeMenu(props) {\r\n    function timeFormat(timestring){\r\n        if(timestring === undefined){\r\n            return ''\r\n        }else {\r\n            return timestring.slice(0, 4) + '-' + timestring.slice(4, 6) + '-' + timestring.slice(6, 8) + ' ' +\r\n                timestring.slice(8, 10) + ':' + timestring.slice(10, 12) + ':' + timestring.slice(12, 14)\r\n        }\r\n    }\r\n    const {times} = props\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    let time = ''\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    if (!urlParams.has('t')){\r\n        time = times[times.length-1]\r\n    }\r\n    else{\r\n        time = urlParams.get('t')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button\r\n                id=\"fade-button\"\r\n                aria-controls=\"fade-menu\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded={open ? 'true' : undefined}\r\n                onClick={handleClick}\r\n                color=\"inherit\"\r\n            >\r\n                {timeFormat(time)}\r\n            </Button>\r\n            <Menu\r\n                id=\"fade-menu\"\r\n                MenuListProps={{\r\n                    'aria-labelledby': 'fade-button',\r\n                }}\r\n                anchorEl={anchorEl}\r\n                open={open}\r\n                onClose={handleClose}\r\n                TransitionComponent={Fade}\r\n            >\r\n                {times.map(time => <Link to={`?t=${time}`}><MenuItem onClick={handleClose}>{timeFormat(time)}</MenuItem></Link>)}\r\n            </Menu>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction GridComponent(props) {\r\n    const { keywords } = props;\r\n    return (\r\n        <Grid item xs={4}>\r\n            <Paper>\r\n            <ListItemButton>\r\n                    <Box sx={{ minHeight: '150px', padding: '20px', textAlign: 'center'}}>\r\n                        {keywords.map(keyword => <h3 style={{fontSize: '30px', display:'inline', margin: '5px'}}>#{keyword} </h3>)}\r\n                    </Box>\r\n                </ListItemButton>\r\n            </Paper>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nfunction getStaticProps(){\r\n    const data =  JSON.parse(JSON.stringify(example));\r\n    return data;\r\n}\r\n\r\nexport default function Main() {\r\n    const [time,setTime] = useState('');\r\n    const [times,setTimes] = useState({});\r\n    const [keywords, setKeywords] = useState([]);\r\n\r\n    async function fetchTimes(){\r\n        const d = await API.getTimes();\r\n        setTimes(d);\r\n    }\r\n\r\n    async function fetchKeywords(time){\r\n        const d = await API.getKeywords(time);\r\n        setKeywords(d);\r\n    }\r\n\r\n    function setDefaultTime(){\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        if (!urlParams.has('t')){\r\n            setTime(times_arr[times_arr.length-1])\r\n        }\r\n        else{\r\n            setTime(urlParams.get('t'))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchTimes();\r\n        setDefaultTime();\r\n        fetchKeywords(time);\r\n    },[]);\r\n\r\n    let times_arr = []\r\n\r\n    for(let i=0; i < times.length; i++){\r\n        times_arr.push(times[i]['time'])\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar times={times_arr}/>\r\n            <Box sx={{ padding: '30px' }}>\r\n                <Grid container rowSpacing={3} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\r\n                    {keywords.map((news, idx) =>\r\n                        <GridComponent key={idx} keywords={news} />\r\n                    )}\r\n                </Grid>\r\n            </Box>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}